<div class="my-3">
  <mat-tab-group mat-stretch-tabs class="rounded mat-elevation-z4">
    <!-- Personal Information -->
    <mat-tab label="Personal">
      <mat-accordion>
        <!-- Personal data -->
        <mat-expansion-panel [expanded]="panelOpenState" class="m-3">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <i class="material-icons mr-2">account_circle</i>
              Personal Information
            </mat-panel-title>
            <mat-panel-description>
              Edit Personal Information
            </mat-panel-description>
          </mat-expansion-panel-header>

          <mat-card fxFlex="100%">
            <mat-card-content>
              <form [formGroup]="personalInfoForm" (ngSubmit)="onPersonalInfoFormSubmit()" role="form" autocomplete="off"
                fxFlex="100%" fxLayout="column" fxLayoutGap="20px">
                <mat-form-field class="form-field">
                  <input matInput type="text" name="name" id="name" placeholder="Name" formControlName="name" required />
                  <mat-hint>Enter Your Name</mat-hint>
                  <mat-error *ngIf="name.invalid && name.errors.required">
                    Name is <strong>required</strong>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="form-field">
                  <input matInput type="text" name="fatherName" id="fatherName" placeholder="Father's Name"
                    formControlName="fatherName" />
                  <mat-hint>Enter Your Fathers' Name</mat-hint>
                  <mat-error *ngIf="fatherName.invalid && fatherName.errors.required">
                    Fathers' Name is <strong>required</strong>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="form-field">
                  <input matInput type="text" name="motherName" id="motherName" placeholder="Mother's Name"
                    formControlName="motherName" />
                  <mat-hint>Enter Your Mother's Name</mat-hint>
                  <mat-error *ngIf="motherName.invalid && motherName.errors.required">
                    Mother's Name is <strong>required</strong>
                  </mat-error>
                </mat-form-field>

                <mat-radio-group name="gender" id="gender" formControlName="gender">
                  <label class="mr-3" for="gender">Gender : </label>
                  <mat-radio-button class="mx-3" value="Male">Male</mat-radio-button>
                  <mat-radio-button class="mx-3" value="Female">Female</mat-radio-button>
                  <mat-radio-button class="mx-3" value="Others">Others</mat-radio-button>
                </mat-radio-group>

                <mat-form-field class="form-field">
                  <input matInput type="text" name="birthDate" id="birthDate" placeholder="Birth Date" formControlName="birthDate"
                    bsDatepicker [bsConfig]="{ dateInputFormat: 'YYYY-MM-DD' }" required />
                  <mat-hint>Format : YYYY-MM-DD</mat-hint>
                  <mat-error *ngIf="birthDate.invalid && birthDate.errors.required">
                    Birth Date is <strong>required</strong>
                  </mat-error>
                </mat-form-field>

                <mat-form-field>
                  <mat-select placeholder="Religion" name="religion" id="religion" formControlName="religion">
                    <mat-option value="">
                      None
                    </mat-option>
                    <mat-option value="Islam">
                      Islam
                    </mat-option>
                    <mat-option value="Hinduism">
                      Hinduism
                    </mat-option>
                    <mat-option value="Buddhism">
                      Buddhism
                    </mat-option>
                    <mat-option value="Christianity">
                      Christianity
                    </mat-option>
                    <mat-option value="Others">
                      Others
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-radio-group name="maritalStatus" id="maritalStatus" formControlName="maritalStatus">
                  <label class="mr-3" for="maritalStatus">Marital Status :
                  </label>
                  <mat-radio-button class="mx-3" value="Married">Married</mat-radio-button>
                  <mat-radio-button class="mx-3" value="Unmarried">Unmarried</mat-radio-button>
                </mat-radio-group>

                <mat-form-field class="form-field">
                  <input matInput type="text" name="nationality" id="nationality" placeholder="Nationality"
                    formControlName="nationality" required />
                  <mat-hint>Your Nationality</mat-hint>
                  <mat-error *ngIf="nationality.invalid && nationality.errors.required">
                    Nationality is <strong>required</strong>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="form-field">
                  <input matInput type="text" name="nid" id="nid" placeholder="National ID No." formControlName="nid" />
                  <mat-hint>National ID No.</mat-hint>
                  <mat-error *ngIf="nid.invalid && nid.errors.pattern">
                    NID contains 13 or 17 digits only.
                  </mat-error>
                </mat-form-field>

                <mat-card-actions class="m-3">
                  <button type="submit" mat-flat-button color="primary" [disabled]="!personalInfoForm.valid">
                    Submit
                  </button>
                  <button type="reset" mat-flat-button color="warn" class="float-right">
                    Reset
                  </button>
                </mat-card-actions>
              </form>
            </mat-card-content>
          </mat-card>
        </mat-expansion-panel>

        <!-- Contact Information -->
        <mat-expansion-panel class="m-3">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <i class="material-icons mr-2">contact_mail</i>
              Contact Information
            </mat-panel-title>
            <mat-panel-description>
              Edit Contact Information
            </mat-panel-description>
          </mat-expansion-panel-header>

          <mat-card fxFlex="100%">
            <mat-card-content>
              <form [formGroup]="contactInfoForm" (ngSubmit)="onContactInfoFormSubmit()" role="form" autocomplete="off"
                fxFlex="100%" fxLayout="column" fxLayoutGap="20px">
                <mat-form-field class="form-field">
                  <span matPrefix> &nbsp;</span>
                  <input matInput type="email" name="email" id="email" placeholder="Email" formControlName="email" />
                  <mat-icon matSuffix>email</mat-icon>
                  <mat-hint>Enter Your Email</mat-hint>
                  <mat-error *ngIf="email.invalid && email.errors.required">
                    Email is <strong>required</strong>
                  </mat-error>
                  <mat-error *ngIf="
                      email.invalid &&
                      (email.errors.email || email.errors.pattern)
                    ">
                    Enter Valid Email.
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="form-field">
                  <span matPrefix>+880 &nbsp;</span>
                  <input type="tel" name="phone" id="phone" matInput placeholder="Phone Number" formControlName="phone" />
                  <mat-icon matSuffix>phone</mat-icon>
                  <mat-hint>Enter Your Phone</mat-hint>
                  <mat-error *ngIf="phone.invalid && phone.errors.required">
                    Phone No. is <strong>required</strong>
                  </mat-error>
                  <mat-error *ngIf="phone.invalid && phone.errors.pattern">
                    Enter Valid Phone No.
                  </mat-error>
                </mat-form-field>

                <mat-card-actions class="m-3">
                  <button type="submit" mat-flat-button color="primary" [disabled]="!contactInfoForm.valid">
                    Submit
                  </button>
                  <button type="reset" mat-flat-button color="warn" class="float-right">
                    Reset
                  </button>
                </mat-card-actions>
              </form>
            </mat-card-content>
          </mat-card>
        </mat-expansion-panel>

        <!-- Address Information -->
        <mat-expansion-panel class="m-3">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <i class="fa fa-address-card mr-2"></i>
              Address
            </mat-panel-title>
            <mat-panel-description>
              Edit Address
            </mat-panel-description>
          </mat-expansion-panel-header>

          <mat-card fxFlex="100%">
            <mat-card-content>
              <form [formGroup]="addressForm" (ngSubmit)="onAddressFormSubmit()" role="form" autocomplete="off" fxFlex="100%"
                fxLayout="column" fxLayoutGap="20px">
                <div class="row" formGroupName="currentAddress">
                  <div class="col-3 m-auto">
                    <mat-label>
                      Current Address :
                    </mat-label>
                  </div>
                  <div class="col-3">
                    <mat-form-field>
                      <input matInput type="text" name="street" placeholder="Street" formControlName="street" />
                    </mat-form-field>
                  </div>
                  <div class="col-3">
                    <mat-form-field>
                      <input matInput type="text" name="city" placeholder="City" formControlName="city" />
                    </mat-form-field>
                  </div>
                  <div class="col-3">
                    <mat-form-field>
                      <input matInput maxlength="4" #zipCode placeholder="Zip Code" type="text" name="zipCode"
                        formControlName="zipCode" />
                    </mat-form-field>
                    <mat-hint>{{ zipCode.value.length }} / 4</mat-hint>
                  </div>
                </div>

                <div class="row" formGroupName="permanentAddress">
                  <div class="col-3 m-auto">
                    <mat-label>
                      Permanent Address :
                    </mat-label>
                  </div>
                  <div class="col-3">
                    <mat-form-field>
                      <input matInput type="text" name="street" placeholder="Street" formControlName="street" />
                    </mat-form-field>
                  </div>
                  <div class="col-3">
                    <mat-form-field>
                      <input matInput type="text" name="city" placeholder="City" formControlName="city" />
                    </mat-form-field>
                  </div>
                  <div class="col-3">
                    <mat-form-field>
                      <input matInput maxlength="4" #zipCode placeholder="Zip Code" type="text" name="zipCode"
                        formControlName="zipCode" />
                    </mat-form-field>
                    <mat-hint>{{ zipCode.value.length }} / 4</mat-hint>
                  </div>
                </div>

                <mat-card-actions class="m-3">
                  <button type="submit" mat-flat-button color="primary" [disabled]="!addressForm.valid">
                    Submit
                  </button>
                  <button type="reset" mat-flat-button color="warn" class="float-right">
                    Reset
                  </button>
                </mat-card-actions>
              </form>
            </mat-card-content>
          </mat-card>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-tab>

    <!-- Academic Information update -->
    <mat-tab label="Academic">
      <div class="container-fluid">
        <form [formGroup]="othersInfoForm" (ngSubmit)="onOthersInfoFormSubmit()" role="form" autocomplete="off" fxFlex="100%"
          fxLayout="column" fxLayoutGap="20px"></form>
      </div>
    </mat-tab>

    <!-- Work Experience Update -->
    <mat-tab label="Employment">
      <div class="container-fluid my-3">
        <mat-card fxFlex="100%">
          <mat-card-header>
            <mat-card-title>Skills</mat-card-title>
            <mat-card-subtitle>Add maximum 20 skills</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="row">
              <mat-form-field class="col-md-12">
                <mat-label>Add Skill</mat-label>
                <input matInput [(ngModel)]="skill" placeholder="add more.." />
                <span matSuffix><button mat-raised-button (click)="onAddSkill(skill)">
                    Add
                  </button></span>
              </mat-form-field>
            </div>
            <div class="row" id="skill" *ngIf="user && user.skills">
              <div class="alert alert-info mx-2" *ngFor="let skill of user.skills">
                <span> {{ skill }} </span>
                <a (click)="onRemoveSkill(skill)" style="cursor: pointer" class="btn text-danger"> <i class="fa fa-times"></i></a>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
